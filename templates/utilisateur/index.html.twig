{% extends 'base.html.twig' %}

{% block title %}Employés{% endblock %}

{% block body %}
    <div id="utilisateur"></div>
    <a class="customButton" href="{{ path('utilisateur_new') }}">Créer un nouvel employé</a>
    <table class="table" style="margin-top: 1.5rem;">
        <thead>
            <tr>
                <th>Id</th>
                <th>Email</th>
                <th>Roles</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for utilisateur in utilisateurs %}
            <tr>
                <td>{{ utilisateur.id }}</td>
                <td>{{ utilisateur.email }}</td>
                <td>{{ utilisateur.roles ? utilisateur.roles|json_encode : '' }}</td>
                <td>
                    <a href="{{ path('utilisateur_edit', {'id': utilisateur.id}) }}"><img src="https://cdn-icons-png.flaticon.com/512/860/860814.png" alt="edit icon" style="width: 1rem"></a>
                    <a href="{{ path('utilisateur_show', {'id': utilisateur.id}) }}"><img src="https://cdn-icons-png.flaticon.com/512/159/159604.png" alt="show icon" style="width: 1rem; margin-left: 1rem;"></a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">Aucun utilisateur pour le moment.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('rep_log_react') }}
{% endblock %}
